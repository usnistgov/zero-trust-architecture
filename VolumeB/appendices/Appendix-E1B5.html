
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Enterprise 1 Build 5 (E1B5) - SASE and Microsegmentation - PAN NGFW and PAN Prisma Access as PEs &#8212; Implementing a Zero Trust Architecture Project  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="../../_static/content.css?v=59cd0ab0" />
    <link rel="stylesheet" type="text/css" href="../../_static/breadcrumbs.css?v=ddd885d8" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'VolumeB/appendices/Appendix-E1B5';</script>
    <script src="../../_static/jquery.visible.js?v=5b129ffc"></script>
    <script src="../../_static/jquery.leaveNotice-nist.js?v=7cf1efa2"></script>
    <script src="../../_static/applyLeaveNotice.js?v=38741b1c"></script>
    <script src="../../_static/smoothNavScroll.js?v=2ce98a12"></script>
    <link rel="icon" href="../../_static/favicon.svg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>

    <link rel="stylesheet" href="https://pages.nist.gov/nist-header-footer/css/nist-combined.css">
    <link rel="stylesheet" type="text/css" href="https://pages.nist.gov/leaveNotice/css/jquery.leaveNotice.css" />
    <script src="https://pages.nist.gov/nist-header-footer/js/nist-header-footer.js" type="text/javascript" defer="defer"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RJSMY46M5C"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-RJSMY46M5C');
    </script>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<div style="width: max-content;">
    <ul class="wy-breadcrumbs">
        <li style="list-style: none;"><a href="../../index.html" aria-label="Home"><i class="fa fa-home"></i></a></li>
        <li class="breadcrumb-item active">&ensp;Enterprise 1 Build 5 (E1B5) - SASE and Microsegmentation - PAN NGFW and PAN Prisma Access as PEs</li>
    </ul>
</div></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">Implementing a Zero Trust Architecture Project  documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://nccoe8fy2020dev.prod.acquia-sites.com/sites/default/files/2024-06/zta-nist-sp-1800-35-preliminary-draft-4.pdf" title="NIST SP 1800-35 Publication" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../_static/NISTSPLogo.jpg" class="icon-link-image" alt="NIST SP 1800-35 Publication"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.nccoe.nist.gov/projects/implementing-zero-trust-architecture" title="Main Project Page" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../_static/MainProjectLogo.jpg" class="icon-link-image" alt="Main Project Page"/></a>
        </li>
</ul></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../index.html">
                    Implementing a Zero Trust Architecture
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../VolumeA/ExecutiveSummary.html">Executive Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../VolumeA/Introduction.html">Introduction to the Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../VolumeA/ProjectOverview.html">Project Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../acronyms.html">Acronyms</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/VolumeB/appendices/Appendix-E1B5.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Enterprise 1 Build 5 (E1B5) - SASE and Microsegmentation - PAN NGFW and PAN Prisma Access as PEs</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#technologies">Technologies</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#build-architecture">Build Architecture</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logical-architecture">Logical Architecture</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#icam-information-architecture">ICAM Information Architecture</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#physical-architecture">Physical Architecture</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#message-flows-for-successful-resource-access-requests">Message Flows for Successful Resource Access Requests</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#message-flow-for-remote-user-access-to-enterprise-resources-that-are-either-on-premises-or-in-the-cloud-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-ngfw">Message Flow for Remote User Access to Enterprise Resources that Are Either On-Premises or In the Cloud (PAN Prisma Access, PAN Global Protect, PAN Cloud Identity Engine, PAN NGFW)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#message-flow-for-a-user-who-is-located-at-a-branch-office-to-access-an-enterprise-resource-on-premises-at-another-enterprise-site-or-in-the-cloud-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-ngfw">Message Flow for A User Who Is Located at a Branch Office to Access an Enterprise Resource On-Premises at Another Enterprise Site or In the Cloud (PAN Prisma Access, PAN Global Protect, PAN Cloud Identity Engine, PAN NGFW)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#message-flow-for-a-user-who-is-on-premises-at-enterprise-headquarters-to-access-an-enterprise-resource-located-at-a-data-center-hosted-in-the-cloud-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-on-premise-and-cloud-ngfws">Message Flow for A User Who Is On-Premises at Enterprise Headquarters to Access an Enterprise Resource Located at a Data Center Hosted in the Cloud (PAN Prisma Access, PAN Global Protect, PAN Cloud Identity Engine, PAN on premise and cloud NGFWs)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#message-flow-for-a-user-located-on-premises-to-access-an-enterprise-resource-also-located-on-premises-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-ngfw">Message Flow for A User Located On-Premises to Access an Enterprise Resource Also Located On-Premises (PAN Prisma Access, PAN Global Protect, PAN Cloud Identity Engine, PAN NGFW)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#message-flow-for-a-branch-office-user-to-access-an-enterprise-resource-located-on-premises-at-the-enterprise-headquarters-using-sd-wan-pan-prisma-access-pan-prisma-sd-wan-pan-global-protect-pan-cloud-identity-engine-pan-ngfw">Message Flow for A Branch Office User to Access an Enterprise Resource Located On-Premises at the Enterprise Headquarters Using SD-WAN (PAN Prisma Access, PAN Prisma SD-WAN, PAN Global Protect, PAN Cloud Identity Engine, PAN NGFW)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="enterprise-1-build-5-e1b5-sase-and-microsegmentation-pan-ngfw-and-pan-prisma-access-as-pes">
<h1>Enterprise 1 Build 5 (E1B5) - SASE and Microsegmentation - PAN NGFW and PAN Prisma Access as PEs<a class="headerlink" href="#enterprise-1-build-5-e1b5-sase-and-microsegmentation-pan-ngfw-and-pan-prisma-access-as-pes" title="Link to this heading">#</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page is supplementary material for the <a class="reference external" href="https://nccoe8fy2020dev.prod.acquia-sites.com/sites/default/files/2024-06/zta-nist-sp-1800-35-preliminary-draft-4.pdf">NIST SP 1800-35 publication</a>.</p>
</div>
<section id="technologies">
<h2>Technologies<a class="headerlink" href="#technologies" title="Link to this heading">#</a></h2>
<p>E1B5 uses products from AWS, IBM, Mandiant, Okta, Palo Alto Networks (PAN), Radiant Logic, SailPoint, and Tenable. Certificates from DigiCert are also used. For more information on these collaborators and the products and technologies that they contributed to this project overall, see <a class="reference internal" href="../../VolumeA/ProjectOverview.html#collaborators-and-their-contributions"><span class="std std-ref">Collaborators and Their Contributions</span></a>.</p>
<p>E1B5 components consist of PAN Panorama, PAN Next Generation Firewall (NGFW), PAN Prisma Access, PAN Prisma SASE (Prisma Access &amp; Prisma SD-WAN), PAN Cloud-Delivered Security Services (CDSS), PAN Cloud Identity Engine (CIE), PAN Global Protect, PAN Strata Cloud Manager, Okta Identity Cloud, Radiant Logic RadiantOne Intelligent Identity Data Platform, SailPoint IdentityIQ, Okta Verify App, IBM Security QRadar XDR, Tenable.io, Tenable.ad, Tenable NNM, Mandiant Security Validation, DigiCert CertCentral, and AWS IaaS.</p>
<p><em>Table 1</em> lists all of the technologies used in Build E1B5. It lists the products used to instantiate each ZTA component and the security function that each component provides.</p>
<p><strong>Table 1 - E1B5 Products and Technologies</strong></p>
<div class="pst-scrollable-table-container"><table class="table" id="id1">
<caption><span class="caption-text">E1B5 Products and Technologies</span><a class="headerlink" href="#id1" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 20.0%" />
<col style="width: 30.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Component</p></th>
<th class="head"><p>Product</p></th>
<th class="head"><p>Function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PE</p></td>
<td><p>PAN NGFW, PAN Prisma Access</p></td>
<td><p>Decides whether to grant, deny, or revoke access to a resource based on enterprise policy, information from supporting components, and a trust algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p>PA</p></td>
<td><p>PAN NGFW, PAN Prisma Access</p></td>
<td><p>Executes the PE’s policy decision by sending commands to a PEP that establishes and shuts down the communication path between subject and resource.</p></td>
</tr>
<tr class="row-even"><td><p>PEP</p></td>
<td><p>PAN NGFW, PAN Prisma SASE (Prisma Access &amp; Prisma SD-WAN), PAN CDSS</p></td>
<td><p>Guards the trust zone that hosts one or more enterprise resources; establishes, monitors, and terminates the connection between subject and resource as directed by the PA; forwards requests to and receives commands from the PA.</p></td>
</tr>
<tr class="row-odd"><td><p>ICAM - Identity Management</p></td>
<td><p>Okta Identity Cloud, PAN Cloud Identity Engine</p></td>
<td><p>Creates and manages enterprise user and device accounts, identity records, role information, and access attributes that form the basis of access decisions within an organization to ensure the correct subjects have the appropriate access to the correct resources at the appropriate time.</p></td>
</tr>
<tr class="row-even"><td><p>ICAM - Access &amp; Credential Management</p></td>
<td><p>Okta Identity Cloud, PAN Cloud Identity Engine</p></td>
<td><p>Manages access to resources by performing user and device authentication (e.g., SSO and MFA) and using identity, role, and access attributes to determine which access requests are authorized.</p></td>
</tr>
<tr class="row-odd"><td><p>ICAM - Federated Identity</p></td>
<td><p>Radiant Logic RadiantOne Intelligent Identity Data Platform</p></td>
<td><p>Aggregates and correlates all attributes relating to an identity or object that is being authorized by a ZTA. It enables users of one domain to securely access data or systems of another domain seamlessly, and without the need for completely redundant user administration. Federated identity encompasses the traditional ICAM data, supports identities that may be part of a larger federated ICAM community, and may include non-enterprise employees.</p></td>
</tr>
<tr class="row-even"><td><p>ICAM - Identity Governance</p></td>
<td><p>SailPoint IdentityIQ</p></td>
<td><p>Provides policy-based, centralized, automated processes to manage user identity and access control functions (e.g., ensuring segregation of duties, role management, logging, access reviews, analytics, reporting) to ensure compliance with requirements and regulations.</p></td>
</tr>
<tr class="row-odd"><td><p>ICAM - MFA</p></td>
<td><p>Okta Verify app</p></td>
<td><p>Supports MFA of a user identity by requiring the user to provide not only something they know (e.g., a password), but also something they have (e.g., a token).</p></td>
</tr>
<tr class="row-even"><td><p>Endpoint Security - UEM/MDM</p></td>
<td><p>None</p></td>
<td><p>Manages and secures enterprise desktop computers, laptops, and/or mobile devices in accordance with enterprise policy to protect applications and data; ensure device compliance; mitigate and remediate vulnerabilities and threats; monitor for suspicious activity to prevent and detect intrusions; prevent, detect, and disable malware and other malicious or unauthorized traffic; repair infected files when possible; provide alerts and recommend remediation actions; and encrypt data. Pushes enterprise applications and updates to devices, enables users to download enterprise applications that they are authorized to access, remotely deletes all applications and data from devices if needed, tracks user activity on devices, and detects and addresses security issues on the device.</p></td>
</tr>
<tr class="row-odd"><td><p>Endpoint Security - EPP</p></td>
<td><p>PAN Global Protect</p></td>
<td><p>Detects and stops threats to endpoints through an integrated suite of endpoint protection technologies including antivirus, data encryption, intrusion prevention, EDR, and DLP. May include mechanisms that are designed to protect applications and data; ensure device compliance with policies regarding hardware, firmware, software, and configuration; monitor endpoints for vulnerabilities, suspicious activity, intrusion, infection, and malware; block unauthorized traffic; disable malware and repair infections; manage and administer software and updates; monitor behavior and critical data; and enable endpoints to be tracked, troubleshooted, and wiped, if necessary.</p></td>
</tr>
<tr class="row-even"><td><p>Security Analytics - SIEM</p></td>
<td><p>IBM Security QRadar XDR</p></td>
<td><p>Collects and consolidates security information and security event data from many sources; correlates and analyzes the data to help detect anomalies and recognize potential threats and vulnerabilities; and logs the data to adhere to data compliance requirements.</p></td>
</tr>
<tr class="row-odd"><td><p>Security Analytics - Endpoint Monitoring</p></td>
<td><p>Tenable.io</p></td>
<td><p>Discovers all IP-connected endpoints and performs continuous collection, examination, and analysis of software versions, configurations, and other information regarding hosts (devices or VMs) that are connected to the network.</p></td>
</tr>
<tr class="row-even"><td><p>Security Analytics - Vulnerability Scanning and Assessment</p></td>
<td><p>Tenable.io and Tenable.ad</p></td>
<td><p>Scans and assesses the enterprise infrastructure and resources for security risks, identifies vulnerabilities and misconfigurations, and provides remediation guidance regarding investigating and prioritizing responses to incidents.</p></td>
</tr>
<tr class="row-odd"><td><p>Security Analytics - Traffic Inspection</p></td>
<td><p>Tenable NNM</p></td>
<td><p>Intercepts, examines, and records relevant traffic transmitted on the network.</p></td>
</tr>
<tr class="row-even"><td><p>Security Analytics - Network Discovery</p></td>
<td><p>Tenable NNM</p></td>
<td><p>Discovers, classifies, and assesses the risk posed by devices and users on the network.</p></td>
</tr>
<tr class="row-odd"><td><p>Security Analytics - SOAR</p></td>
<td><p>None</p></td>
<td><p>Integrates the SIEM and other security tools into a single pane of glass to support generation of insights into threats and help track, manage, and resolve cybersecurity incidents. Executes predefined incident response workflows to automatically analyze information and orchestrate the operations required to respond.</p></td>
</tr>
<tr class="row-even"><td><p>Security Analytics - Security Validation</p></td>
<td><p>Mandiant Security Validation</p></td>
<td><p>Provides visibility and evidence on the status of the security controls’ effectiveness in the ZTA. Enables security capabilities of the enterprise to be monitored and verified by continuously validating and measuring the cybersecurity controls; also used to automate the demonstrations that were performed to showcase ZTA capabilities. Deployed throughout the project’s laboratory environment to enable monitoring and verification of various security aspects of the builds. VMs that are intended to operate as actors are deployed on each of the subnetworks in each of the enterprises. These actors can be used to initiate various actions for the purpose of verifying that security controls are working to support the objectives of zero trust.</p></td>
</tr>
<tr class="row-odd"><td><p>Security Analytics - Centralized Management</p></td>
<td><p>PAN Panorama</p></td>
<td><p>Centralized platform for configuring and managing multiple security components. Can be used to modify and update policies to ensure consistency across PEPs.</p></td>
</tr>
<tr class="row-even"><td><p>Security Analytics - Security Analytics and Access Monitoring</p></td>
<td><p>PAN Strata Cloud Manager</p></td>
<td><p>Uses AI and other data analytics to try to improve security posture and prevent network disruptions.</p></td>
</tr>
<tr class="row-odd"><td><p>Data Security - Data Access Protection</p></td>
<td><p>PAN NGFW, PAN Prisma Access, and PAN CDSS</p></td>
<td><p>Discovers sensitive business critical data in the cloud and on-premises and provides protection by preventing unauthorized access and minimizing the risk of data theft and data leaks using security policy rules.</p></td>
</tr>
<tr class="row-even"><td><p>General - Remote Connectivity</p></td>
<td><p>PAN Prisma Access</p></td>
<td><p>Provides remote users with connectivity to on-premises and IaaS resources.</p></td>
</tr>
<tr class="row-odd"><td><p>Resource Protection - IaaS Security</p></td>
<td><p>PAN NGFW in IaaS</p></td>
<td><p>Component that is deployed to be the front-end for an internal resource in the cloud for the purpose of protecting that resource.</p></td>
</tr>
<tr class="row-even"><td><p>General - Certificate Management</p></td>
<td><p>DigiCert CertCentral TLS Manager</p></td>
<td><p>Provides automated capabilities to issue, install, inspect, revoke, renew, and otherwise manage TLS certificates.</p></td>
</tr>
<tr class="row-odd"><td><p>General - Cloud IaaS</p></td>
<td><p>AWS - GitLab</p></td>
<td><p>Provides computing resources, complemented by storage and networking capabilities, hosted by a cloud service provider, offered to customers on demand, and exposed through a GUI and an API. An IPsec tunnel is used to provide a secure connection from the enterprise to the cloud.</p></td>
</tr>
<tr class="row-even"><td><p>General - Cloud SaaS</p></td>
<td><p>DigiCert CertCentral, Okta Identity Cloud, PAN CDSS, PAN CIE, PAN Prisma SASE (Prisma Access &amp; Prisma SD-WAN), Tenable.io</p></td>
<td><p>Cloud-based software delivered for use by the enterprise.</p></td>
</tr>
<tr class="row-odd"><td><p>General - Application</p></td>
<td><p>GitLab</p></td>
<td><p>Example enterprise resource to be protected. (In this build, GitLab is integrated with Okta using SAML, and IBM Security QRadar XDR pulls logs from GitLab.) There are instances of GitLab on-premises and in AWS.</p></td>
</tr>
<tr class="row-even"><td><p>General - Enterprise-Managed Device</p></td>
<td><p>Mobile devices (iOS and Android) and desktops/laptops (Windows, Mac, and Linux)</p></td>
<td><p>Example endpoints to be protected. All enterprise-managed mobile devices have PAN Global Protect and the Okta Verify App installed.</p></td>
</tr>
<tr class="row-odd"><td><p>General - BYOD</p></td>
<td><p>Mobile devices (iOS and Android) and desktops/laptops (Windows, Linux and Mac)</p></td>
<td><p>Example endpoints to be protected.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="build-architecture">
<h2>Build Architecture<a class="headerlink" href="#build-architecture" title="Link to this heading">#</a></h2>
<p>In this section we present the logical architecture of E1B5. We also describe E1B5’s physical architecture and present message flow diagrams for some of its processes.</p>
<section id="logical-architecture">
<h3>Logical Architecture<a class="headerlink" href="#logical-architecture" title="Link to this heading">#</a></h3>
<p><em>Figure 1</em> depicts the logical architecture of E1B5. It uses numbered arrows to depict the general flow of messages needed for a subject to request access to a resource and have that access request evaluated based on subject identity (both requesting user and requesting endpoint identity), user authorizations, and requesting endpoint health. It also depicts the flow of messages supporting periodic reauthentication of the requesting user and the requesting endpoint and periodic verification of requesting endpoint health, all of which must be performed to continually reevaluate access. The labeled steps in <em>Figure 1</em> have the same meanings as they do in <span class="xref std std-ref">Architecture - Figure 1</span>. However, <em>Figure 1</em> includes the specific products that instantiate the architecture of E1B5. <em>Figure 1</em> also does not depict any of the resource management steps found in <span class="xref std std-ref">Architecture - Figure 1</span> because the ZTA technologies deployed in E1B5 do not support the ability to perform authentication and reauthentication of the resource or periodic verification of resource health.</p>
<p>E1B5 was designed with Palo Alto Networks components that serve as PEs, PAs, and PEPs, and Okta Identity Cloud that serves as identity, access, and credential manager. PAN Cloud Identity Engine is used to connect and integrate Okta Identity Cloud with PAN products such as the NGFW and Panorama. Radiant Logic acts as a PIP for the PDP as it responds to inquiries and provides identity information on demand in order for Okta and PAN to make near-real-time access decisions. A more detailed depiction of the messages that flow among components to support a user access request can be found in <a class="reference internal" href="#appendix-e1b5-messageflows"><span class="std std-ref">Message Flows for Successful Resource Access Requests</span></a>.</p>
<p><strong>Figure 1 - Logical Architecture of E1B5</strong></p>
<p><img alt="This figure depicts the logical architecture of E1B5. It uses numbered arrows to depict the general flow of messages needed for a subject to request access to a resource and have that access request evaluated based on subject identity (both requesting user and requesting endpoint identity), user authorizations, and requesting endpoint health." src="VolumeB/appendices/images/AppendixQ-Figure1.png" /></p>
</section>
<section id="icam-information-architecture">
<h3>ICAM Information Architecture<a class="headerlink" href="#icam-information-architecture" title="Link to this heading">#</a></h3>
<p>How ICAM information is provisioned, distributed, updated, shared, correlated, governed, and used among ZTA components is fundamental to the operation of the ZTA. The ICAM information architecture ensures that when a subject requests access to a resource, the aggregated set of identity information and attributes necessary to identify, authenticate, and authorize the subject is available to be used as a basis on which to make the access decision.</p>
<p>In E1B5, Okta, Radiant Logic, and SailPoint integrate with each other as well as with other components of the ZTA to support the ICAM information architecture. The ways that these components work together to correlate identity information and to support actions such as users joining, changing roles, and leaving the enterprise are the same in E1B5 as they are in E1B1, E1B2, E1B3, and E1B4. These interactions are described in <a class="reference internal" href="Appendix-E1B1.html#e1b1icam"><span class="std std-ref">E1B1 - ICAM Information Architecture</span></a>.</p>
</section>
<section id="physical-architecture">
<h3>Physical Architecture<a class="headerlink" href="#physical-architecture" title="Link to this heading">#</a></h3>
<p><span class="xref std std-ref">Enterprise 1</span> and <span class="xref std std-ref">Enterprise 1 Branch Office</span> describe and depict the physical architecture of the E1B5 headquarters network and E1B5 branch office network, respectively.</p>
</section>
<section id="message-flows-for-successful-resource-access-requests">
<h3>Message Flows for Successful Resource Access Requests<a class="headerlink" href="#message-flows-for-successful-resource-access-requests" title="Link to this heading">#</a></h3>
<p id="appendix-e1b5-messageflows">This section depicts several authentication message flows supported by E1B5. Resource access is protected by PAN components, which act as PDPs and PEPs. Okta acts as the identity provider for this build, and PAN Prisma Access and PAN NGFWs integrate with Okta via the PAN Cloud Identity Engine, which acts like an ICAM proxy for Prisma Access and NGFW. Five flows are depicted.</p>
<section id="message-flow-for-remote-user-access-to-enterprise-resources-that-are-either-on-premises-or-in-the-cloud-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-ngfw">
<h4>Message Flow for Remote User Access to Enterprise Resources that Are Either On-Premises or In the Cloud (PAN Prisma Access, PAN Global Protect, PAN Cloud Identity Engine, PAN NGFW)<a class="headerlink" href="#message-flow-for-remote-user-access-to-enterprise-resources-that-are-either-on-premises-or-in-the-cloud-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-ngfw" title="Link to this heading">#</a></h4>
<p><em>Figure 2</em> depicts the high-level message flow supporting the use case in which a remote user (i.e., a user who is not located on-premises or at a branch office) who has an enterprise ID, is using a compliant device, and is authorized to access an enterprise resource, requests and receives access to that resource. The resource may be located either on-premises or in the cloud. Access to the resource is authenticated and authorized by the following components working together:</p>
<ul class="simple">
<li><p>PAN Global Protect Agent running on the user’s endpoint, which collects cybersecurity and other information about the endpoint such as firewall status, OS, antivirus, etc. and submits it as a host information profile (HIP) to a PAN PDP such as Prisma Access or NGFW. The PDP uses the PDP to perform endpoint compliance checks. The Global Protect Agent connects to a Global Protect Gateway that is running on a PAN PEP and submits access requests to it.</p></li>
<li><p>Okta, which acts as IdP and has a directory and SAML integration with PAN Cloud Identity Engine.</p></li>
<li><p>PAN Prisma Access, which acts as both PDP and PEP, and includes a mobile user security processing node (MU SPN), a service connection security processing node (SC SPN), and a Global Protect Gateway.</p></li>
<li><p>PAN NGFW, which acts as both PDP and PEP. If the resource is located on-premises, the NGFW controlling access is the enterprise NGFW that is on-premises guarding the resource; if the resource is located in the cloud, the NGFW controlling access is a VM-series NGFW in the cloud. The NGFW includes a Global Protect Gateway (not shown).</p></li>
</ul>
<p><strong>Figure 2 - Use Case E1B5 - Remote User Authentication and Access Enforcement Using PAN Prisma Access, PAN Global Protect, and PAN NGFW</strong></p>
<p><img alt="This figure depicts the high-level message flow supporting the use case in which a remote user (i.e., a user who is not located on-premises or at a branch office) who has an enterprise ID, is using a compliant device, and is authorized to access an enterprise resource, requests and receives access to that resource." src="VolumeB/appendices/images/AppendixQ-Figure2.png" /></p>
<p>The message flow depicted in <em>Figure 2</em> consists of the following steps:</p>
<ol class="arabic simple">
<li><p>The PAN Global Protect Agent on the user’s device tries to connect to the portal. Because the user is remote (i.e., not located on-premises or at a branch office), this connection attempt is received at the MU SPN component of PAN Prisma Access.</p></li>
<li><p>The MU SPN component of Prisma Access redirects the Global Protect Agent to the PAN Cloud Identity Engine (CIE) for authentication.</p></li>
<li><p>The Global Protect Agent directs the user’s endpoint to contact PAN CIE for authentication in a web browser.</p></li>
<li><p>PAN CIE determines that Okta is the IdP based on the authentication profile and redirects the user to Okta.</p></li>
<li><p>Okta challenges the user for both first- and second-factor authentication and the user re-sponds by providing their first- and second-factor credentials.</p></li>
<li><p>Assuming the user provided the correct credentials, Okta sends an authentication token to the endpoint. The MU SPN component of PAN Prisma Access learns the user’s IP address as traffic passes through it.</p></li>
<li><p>The Global Protect Agent connects to the best/closest Global Protect Gateway, based on user location and latency. The Global Protect Agent authenticates to this gateway by providing the authentication token.</p></li>
<li><p>The Global Protect Agent also submits the HIP to the Prisma Access PEP.</p></li>
<li><p>The user sends a request to access the enterprise resource on the connection to the Prisma Access PEP. (The resource may be located either on-premises or in an enterprise data center that is hosted in the cloud.)</p></li>
<li><p>Prisma Access looks up the security policy and the device HIP profile, inspects the traffic, and forwards the traffic, assuming the endpoint is compliant and access is permitted by policy.</p></li>
<li><p>The SC SPN component of Prisma Access forwards the traffic using an IPsec tunnel that termi-nates at the PAN NGFW that is guarding the resource. If the resource is on-premises, the ser-vice connection IPsec tunnel will terminate at an on-premises enterprise NGFW. If the re-source is in the cloud, the service connection IPsec tunnel will terminate at a VM-series NGFW that is deployed in the cloud.</p></li>
<li><p>The NGFW looks up security policy, inspects the traffic, and forwards the traffic to the re-source, if allowed.</p></li>
</ol>
</section>
<section id="message-flow-for-a-user-who-is-located-at-a-branch-office-to-access-an-enterprise-resource-on-premises-at-another-enterprise-site-or-in-the-cloud-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-ngfw">
<h4>Message Flow for A User Who Is Located at a Branch Office to Access an Enterprise Resource On-Premises at Another Enterprise Site or In the Cloud (PAN Prisma Access, PAN Global Protect, PAN Cloud Identity Engine, PAN NGFW)<a class="headerlink" href="#message-flow-for-a-user-who-is-located-at-a-branch-office-to-access-an-enterprise-resource-on-premises-at-another-enterprise-site-or-in-the-cloud-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-ngfw" title="Link to this heading">#</a></h4>
<p><em>Figure 3</em> depicts the high-level message flow supporting the use case in which a user who is located at a branch office, who has an enterprise ID, is using a compliant device, and is authorized to access an on-premises enterprise resource, requests and receives access to that resource. The resource may be located either on-premises at another enterprise site or in the cloud. Access to the resource is authenticated and authorized by the following components working together:</p>
<ul class="simple">
<li><p>PAN Global Protect Agent running on the user’s endpoint, which collects cybersecurity and other information about the endpoint such as firewall status, OS, antivirus, etc. and submits it as a host information profile (HIP) to a PAN PDP such as Prisma Access or NGFW. The PDP uses the PDP to perform endpoint compliance checks. The Global Protect Agent connects to a Global Protect Gateway that is running on a PAN PEP and submits access requests to it.</p></li>
<li><p>Okta, which acts as IdP and has a directory and SAML integration with PAN Cloud Identity Engine.</p></li>
<li><p>PAN Prisma Access, which acts as both PDP and PEP, and includes a remote network security processing node (RN SPN), a service connection security processing node (SC SPN), and a Global Protect Gateway.</p></li>
<li><p>Two PAN NGFWs, which act as both PDPs and PEPs: an NGFW located at the branch office where the user is located, and an NGFW that is guarding the resource. If the resource is located on premises, the NGFW controlling access is the enterprise NGFW that is on-premises guarding the resource; if the resource is located in the cloud, the NGFW controlling access is a VM-series NGFW in the cloud. Each NGFW includes a Global Protect Gateway (not shown).</p></li>
</ul>
<p><strong>Figure 3 - Use Case E1B5 - User Located in a Branch Office Authentication and Access Enforcement to an On-Premises Enterprise Resource Using PAN Prisma Access, PAN Global Protect, and PAN NGFW</strong></p>
<p><img alt="This figure depicts the high-level message flow supporting the use case in which a user who is located at a branch office, who has an enterprise ID, is using a compliant device, and is authorized to access an on-premises enterprise resource, requests and receives access to that resource." src="VolumeB/appendices/images/AppendixQ-Figure3.png" /></p>
<p>The message flow depicted in <em>Figure 3</em> consists of the following steps:</p>
<ol class="arabic simple">
<li><p>The PAN Global Protect Agent on the user’s device tries to connect to the portal. Because the user is located at a Branch Office, this connection attempt is received at the Branch NGFW.</p></li>
<li><p>The Branch NGFW redirects the Global Protect Agent to the PAN Cloud Identity Engine (CIE) for authentication.</p></li>
<li><p>The Global Protect Agent directs the user’s endpoint to contact PAN CIE for authentication in a web browser.</p></li>
<li><p>PAN CIE determines that Okta is the IdP based on the authentication profile and redirects the user to Okta.</p></li>
<li><p>Okta challenges the user for both first- and second-factor authentication. and the user re-sponds by providing their first- and second-factor credentials.</p></li>
<li><p>Assuming the user provided the correct credentials, Okta sends an authentication token to the endpoint. The Branch NGFW learns the user’s IP address as traffic passes through it.</p></li>
<li><p>The Global Protect Agent connects to the internal Global Protect Gateway within the Branch NGFW once internal host detection is resolved, demonstrating that the endpoint is physically present at the site. The Global Protect Agent authenticates to the internal gateway by provid-ing the authentication token.</p></li>
<li><p>The Global Protect Agent also submits the HIP to the Global Protect Gateway that is on the Branch NGFW PEP.</p></li>
<li><p>The user sends a request to access the enterprise resource that is located on-premises at an-other site (headquarters or another branch office) on the connection to the Branch NGFW.</p></li>
<li><p>The Branch NGFW looks up the security policy and the device HIP profile, inspects the traffic, and forwards the traffic to the RN SPN component of Prisma Access, assuming the endpoint is compliant and access is permitted by policy.</p></li>
<li><p>The RN SPN component of Prisma Access performs policy enforcement, traffic inspection, and routing of the request as it forwards the request to the SC SPN component of Prisma Access.</p></li>
<li><p>The SC SPN component of Prisma Access forwards the traffic using an IPsec tunnel that termi-nates at the enterprise PAN NGFW guarding the resource. If the resource is on-premises, the service connection IPsec tunnel will terminate at an on-premises enterprise NGFW. If the re-source is in the cloud, the service connection IPsec tunnel will terminate at a VM-series NGFW that is deployed in the cloud.</p></li>
<li><p>The NGFW that is guarding the resource looks up security policy, inspects the traffic, and for-wards the traffic to the resource, if allowed.</p></li>
</ol>
</section>
<section id="message-flow-for-a-user-who-is-on-premises-at-enterprise-headquarters-to-access-an-enterprise-resource-located-at-a-data-center-hosted-in-the-cloud-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-on-premise-and-cloud-ngfws">
<h4>Message Flow for A User Who Is On-Premises at Enterprise Headquarters to Access an Enterprise Resource Located at a Data Center Hosted in the Cloud (PAN Prisma Access, PAN Global Protect, PAN Cloud Identity Engine, PAN on premise and cloud NGFWs)<a class="headerlink" href="#message-flow-for-a-user-who-is-on-premises-at-enterprise-headquarters-to-access-an-enterprise-resource-located-at-a-data-center-hosted-in-the-cloud-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-on-premise-and-cloud-ngfws" title="Link to this heading">#</a></h4>
<p><em>Figure 4</em> depicts the high-level message flow supporting the use case in which a user who is located on-premises at headquarters, has an enterprise ID, is using a compliant device, and is authorized to access an enterprise resource that is in a data center hosted in the cloud, requests and receives access to that resource. Access to the resource is authenticated and authorized by the following components working together:</p>
<ul class="simple">
<li><p>PAN Global Protect Agent running on the user’s endpoint, which collects cybersecurity and other information about the endpoint such as firewall status, OS, antivirus, etc. and submits it as a host information profile (HIP) to a PAN PDP such as Prisma Access or NGFW. The PDP uses the PDP to perform endpoint compliance checks. The Global Protect Agent connects to a Global Protect Gateway that is running on a PAN PEP and submits access requests to it.</p></li>
<li><p>Okta, which acts as IdP and has a directory and SAML integration with PAN Cloud Identity Engine.</p></li>
<li><p>PAN Prisma Access, which acts as both PDP and PEP, and includes multiple instantiations of service connection security processing nodes (SC SPNs) and a Global Protect Gateway.</p></li>
<li><p>Two PAN NGFWs, which act as both PDPs and PEPs: a NGFW located on-premises at headquarters where the user is located, and a VM-series NGFW in the cloud where the resource is located. Each NGFW includes a Global Protect Gateway (not shown).</p></li>
</ul>
<p><strong>Figure 4 - Use Case E1B5 - User Located On-Premises at Headquarters Authentication and Access Enforcement to a Resource in the Cloud Using PAN Prisma Access, PAN Global Protect, and PAN NGFW</strong></p>
<p><img alt="This figure depicts the high-level message flow supporting the use case in which a user who is located on-premises at headquarters, has an enterprise ID, is using a compliant device, and is authorized to access an enterprise resource that is in a data center hosted in the cloud, requests and receives access to that resource." src="VolumeB/appendices/images/AppendixQ-Figure4.png" /></p>
<p>The message flow depicted in <em>Figure 4</em> consists of the following steps:</p>
<ol class="arabic simple">
<li><p>The PAN Global Protect Agent on the user’s device tries to connect to the portal. Because the user is located at the enterprise headquarters, this connection attempt is received at the on-premises Enterprise NGFW.</p></li>
<li><p>The Enterprise NGFW redirects the Global Protect Agent to the PAN Cloud Identity Engine (CIE) for authentication.</p></li>
<li><p>The Global Protect Agent directs the user’s endpoint to contact PAN CIE for authentication in a web browser.</p></li>
<li><p>PAN CIE determines that Okta is the IdP based on the authentication profile and redirects the user to Okta.</p></li>
<li><p>Okta challenges the user for both first- and second-factor authentication, and the user re-sponds by providing their first- and second-factor credentials.</p></li>
<li><p>Assuming the user provided the correct credentials, Okta sends an authentication token to the endpoint. The Enterprise NGFW learns the user’s IP address as traffic passes through it.</p></li>
<li><p>The Global Protect Agent connects to the internal Global Protect Gateway within the Enter-prise NGFW once internal host detection is resolved, demonstrating that the endpoint is phys-ically present at the site. The Global Protect Agent authenticates to the internal gateway by providing the authentication token.</p></li>
<li><p>The Global Protect Agent also submits the HIP profile to the Global Protect Gateway that is on the on-premises PAN NGFW PEP.</p></li>
<li><p>The user sends a request to access the enterprise resource that is located in the cloud on the connection to the Enterprise NGFW.</p></li>
<li><p>The Enterprise NGFW looks up the security policy and the device HIP profile, inspects the traf-fic, and forwards the traffic to the SC SPN component of Prisma Access, assuming the endpoint is compliant and access is permitted by policy.</p></li>
<li><p>Traffic is routed from between service connections set up by the SC SPN component of Prisma Access.</p></li>
<li><p>An SC SPN component of Prisma Access forwards the traffic using an IPsec tunnel that termi-nates at an NGFW NVF that is in the cloud guarding the resource.</p></li>
<li><p>The NGFW looks up security policy, inspects the traffic, and forwards the traffic to the re-source, if allowed.</p></li>
</ol>
</section>
<section id="message-flow-for-a-user-located-on-premises-to-access-an-enterprise-resource-also-located-on-premises-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-ngfw">
<h4>Message Flow for A User Located On-Premises to Access an Enterprise Resource Also Located On-Premises (PAN Prisma Access, PAN Global Protect, PAN Cloud Identity Engine, PAN NGFW)<a class="headerlink" href="#message-flow-for-a-user-located-on-premises-to-access-an-enterprise-resource-also-located-on-premises-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-ngfw" title="Link to this heading">#</a></h4>
<p><em>Figure 5</em> depicts the high-level message flow supporting the use case in which a user who is located on-premises at headquarters, has an enterprise ID, is using a compliant device, and is authorized to access an enterprise resource that is also located on-premises at headquarters, requests and receives access to that resource. Access to the resource is authenticated and authorized by the following components working together:</p>
<ul class="simple">
<li><p>PAN Global Protect Agent running on the user’s endpoint, which collects cybersecurity and other information about the endpoint such as firewall status, OS, antivirus, etc. and submits it as a host information profile (HIP) to a PAN PDP such as Prisma Access or NGFW. The PDP uses the PDP to perform endpoint compliance checks. The Global Protect Agent connects to a Global Protect Gateway that is running on a PAN PEP and submits access requests to it.</p></li>
<li><p>Okta, which acts as IdP and has a directory and SAML integration with PAN Cloud Identity Engine.</p></li>
<li><p>PAN NGFW, which acts as both PDP and PEP, and is located on-premises at enterprise headquarters where both the user and the resource are located. The NGFW includes a Global Protect Gateway (not shown).</p></li>
</ul>
<p><strong>Figure 5 - Use Case—E1B5 - User Located On-Premises at Enterprise Authentication and Access Enforcement to a Resource Located Internally On-Premises Using PAN Global Protect and PAN NGFW</strong></p>
<p><img alt="This figure depicts the high-level message flow supporting the use case in which a user who is located on-premises at headquarters, has an enterprise ID, is using a compliant device, and is authorized to access an enterprise resource that is also located on-premises at headquarters, requests and receives access to that resource." src="VolumeB/appendices/images/AppendixQ-Figure5.png" /></p>
<p>The message flow depicted in <em>Figure 5</em> consists of the following steps:</p>
<ol class="arabic simple">
<li><p>The PAN Global Protect Agent on the user’s device tries to connect to the portal. Because the user is located on-premises at the enterprise, this connection attempt is received at the inter-nal, on-premises Enterprise NGFW.</p></li>
<li><p>The Enterprise NGFW redirects the Global Protect Agent to the PAN Cloud Identity Engine (CIE) for authentication.</p></li>
<li><p>The Global Protect Agent directs the user’s endpoint to contact PAN CIE for authentication in a web browser.</p></li>
<li><p>PAN CIE determines that Okta is the IdP based on the authentication profile and redirects the user to Okta.</p></li>
<li><p>Okta challenges the user for both first- and second-factor authentication, and the user re-sponds by providing their first- and second-factor credentials.</p></li>
<li><p>Assuming the user provided the correct credentials, Okta sends an authentication token to the endpoint. The Enterprise NGFW learns the user’s IP address as traffic passes through it.</p></li>
<li><p>The Global Protect Agent connects to the internal Global Protect Gateway within the internal Enterprise NGFW once internal host detection is resolved, demonstrating that the endpoint is physically present at the site. The Global Protect Agent authenticates to the internal gateway by providing the authentication token.</p></li>
<li><p>The Global Protect Agent also submits the HIP profile to the Global Protect Gateway that is on the Enterprise NGFW.</p></li>
<li><p>The user sends a request to access the internal, on-premises enterprise resource on the con-nection to the Enterprise NGFW.</p></li>
<li><p>The Enterprise NGFW looks up the security policy and the device HIP profile, inspects the traf-fic, and forwards the traffic to the resource, assuming the endpoint is compliant and access is permitted by policy.</p></li>
</ol>
</section>
<section id="message-flow-for-a-branch-office-user-to-access-an-enterprise-resource-located-on-premises-at-the-enterprise-headquarters-using-sd-wan-pan-prisma-access-pan-prisma-sd-wan-pan-global-protect-pan-cloud-identity-engine-pan-ngfw">
<h4>Message Flow for A Branch Office User to Access an Enterprise Resource Located On-Premises at the Enterprise Headquarters Using SD-WAN (PAN Prisma Access, PAN Prisma SD-WAN, PAN Global Protect, PAN Cloud Identity Engine, PAN NGFW)<a class="headerlink" href="#message-flow-for-a-branch-office-user-to-access-an-enterprise-resource-located-on-premises-at-the-enterprise-headquarters-using-sd-wan-pan-prisma-access-pan-prisma-sd-wan-pan-global-protect-pan-cloud-identity-engine-pan-ngfw" title="Link to this heading">#</a></h4>
<p><em>Figure 6</em> depicts the high-level message flow supporting the use case in which a user who is located at a branch office, has an enterprise ID, is using a compliant device, and is authorized to access a resource on the on-premises enterprise network at headquarters, requests and receives access to that resource over a path selected using SD-WAN. Access to the resource is authenticated and authorized by the following components working together:</p>
<ul class="simple">
<li><p>PAN Global Protect Agent running on the user’s endpoint, which collects cybersecurity and other information about the endpoint such as firewall status, OS, antivirus, etc. and submits it as a host information profile (HIP) to a PAN PDP such as Prisma Access or NGFW. The PDP uses the PDP to perform endpoint compliance checks. The Global Protect Agent connects to a Global Protect Gateway that is running on a PAN PEP and submits access requests to it.</p></li>
<li><p>Okta, which acts as IdP and has a directory and SAML integration with PAN Cloud Identity Engine.</p></li>
<li><p>PAN Prisma Access, which acts as both PDP and PEP, and includes a remote network security processing node (RN SPN), a Mobile User Portal, a service connection security processing node (SC SPN), and a Global Protect Gateway.</p></li>
<li><p>A PAN NGFW, which acts as both PDP and PEP, located on-premises on the enterprise network at the headquarters where the resource is located. The NGFW includes a Global Protect Gateway (not shown).</p></li>
<li><p>PAN Prisma Access SD-WAN, which acts as a router and supports efficient transport of traffic between the branch office and the main headquarters.</p></li>
</ul>
<p><strong>Figure 6 - Use Case E1B5 - User Located in a Branch Office Authentication and Access Enforcement to an On-Premises Enterprise Resource Using PAN Prisma SD-WAN, as well as PAN Prisma Access, PAN Global Protect, and PAN NGFW</strong></p>
<p><img alt="This figure depicts the high-level message flow supporting the use case in which a user who is located at a branch office, has an enterprise ID, is using a compliant device, and is authorized to access a resource on the on-premises enterprise network at headquarters, requests and receives access to that resource over a path selected using SD-WAN." src="VolumeB/appendices/images/AppendixQ-Figure6.png" /></p>
<p>The message flow depicted in <em>Figure 6</em> consists of the following steps:</p>
<ol class="arabic simple">
<li><p>The PAN Global Protect Agent on the user’s device tries to connect to the portal. Because the user is located at a Branch Office, this connection attempt is received at Prisma Access.</p></li>
<li><p>Prisma Access redirects the Global Protect Agent to the PAN Cloud Identity Engine (CIE) for authentication.</p></li>
<li><p>The Global Protect Agent directs the user’s endpoint to contact PAN CIE for authentication in a web browser.</p></li>
<li><p>PAN CIE determines that Okta is the IdP based on the authentication profile and redirects the user to Okta.</p></li>
<li><p>Okta challenges the user for both first- and second-factor authentication, and the user re-sponds by providing their first- and second-factor credentials.</p></li>
<li><p>Assuming the user provided the correct credentials, Okta sends an authentication token to the endpoint. The MU SPN component of Prisma Access learns the user’s IP address as traffic passes through it.</p></li>
<li><p>The Global Protect Agent connects to the internal Global Protect gateway within Prisma Access once internal host detection is resolved, demonstrating that the endpoint is physically present at the Branch Office site. The Global Protect Agent authenticates to the internal gateway by providing the authentication token.</p></li>
<li><p>The Global Protect Agent also submits the HIP profile to the Prisma Access PEP.</p></li>
<li><p>The user, who is located in the Branch Office, sends the Prisma SD-WAN a request to access a resource that is on the enterprise network.</p></li>
<li><p>Prisma SD-WAN looks up the security policy and the device HIP profile, inspects the traffic, chooses the best path (based on link quality) and forwards the traffic to Prisma Access via an IPsec tunnel, assuming the endpoint is compliant and access is permitted by policy.</p></li>
<li><p>The RN SPN component of Prisma Access performs policy enforcement, traffic inspection, and routing of the request as it forwards the request to the SC SPN component of Prisma Access.</p></li>
<li><p>The SC SPN component of Prisma Access forwards the traffic using an IPsec tunnel that termi-nates at the enterprise PAN NGFW that is on-premises, local to, and guarding the resource.</p></li>
<li><p>The Enterprise NGFW looks up security policy, inspects the traffic, and forwards the traffic to the resource, if allowed.</p></li>
</ol>
</section>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#technologies">Technologies</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#build-architecture">Build Architecture</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logical-architecture">Logical Architecture</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#icam-information-architecture">ICAM Information Architecture</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#physical-architecture">Physical Architecture</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#message-flows-for-successful-resource-access-requests">Message Flows for Successful Resource Access Requests</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#message-flow-for-remote-user-access-to-enterprise-resources-that-are-either-on-premises-or-in-the-cloud-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-ngfw">Message Flow for Remote User Access to Enterprise Resources that Are Either On-Premises or In the Cloud (PAN Prisma Access, PAN Global Protect, PAN Cloud Identity Engine, PAN NGFW)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#message-flow-for-a-user-who-is-located-at-a-branch-office-to-access-an-enterprise-resource-on-premises-at-another-enterprise-site-or-in-the-cloud-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-ngfw">Message Flow for A User Who Is Located at a Branch Office to Access an Enterprise Resource On-Premises at Another Enterprise Site or In the Cloud (PAN Prisma Access, PAN Global Protect, PAN Cloud Identity Engine, PAN NGFW)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#message-flow-for-a-user-who-is-on-premises-at-enterprise-headquarters-to-access-an-enterprise-resource-located-at-a-data-center-hosted-in-the-cloud-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-on-premise-and-cloud-ngfws">Message Flow for A User Who Is On-Premises at Enterprise Headquarters to Access an Enterprise Resource Located at a Data Center Hosted in the Cloud (PAN Prisma Access, PAN Global Protect, PAN Cloud Identity Engine, PAN on premise and cloud NGFWs)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#message-flow-for-a-user-located-on-premises-to-access-an-enterprise-resource-also-located-on-premises-pan-prisma-access-pan-global-protect-pan-cloud-identity-engine-pan-ngfw">Message Flow for A User Located On-Premises to Access an Enterprise Resource Also Located On-Premises (PAN Prisma Access, PAN Global Protect, PAN Cloud Identity Engine, PAN NGFW)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#message-flow-for-a-branch-office-user-to-access-an-enterprise-resource-located-on-premises-at-the-enterprise-headquarters-using-sd-wan-pan-prisma-access-pan-prisma-sd-wan-pan-global-protect-pan-cloud-identity-engine-pan-ngfw">Message Flow for A Branch Office User to Access an Enterprise Resource Located On-Premises at the Enterprise Headquarters Using SD-WAN (PAN Prisma Access, PAN Prisma SD-WAN, PAN Global Protect, PAN Cloud Identity Engine, PAN NGFW)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<p>
  
    By NIST<br/>
  
</p>

          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>
<footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        <div class="disclaimer">
          <strong>Disclaimer:</strong> Certain commercial equipment, instruments, or
          materials are identified in this documentation to foster understanding. Such
          identification does not imply recommendation or endorsement by the National
          Institute of Standards and Technology, nor does it imply that the materials
          or equipment identified are necessarily the best available for the purpose.
        </div>
      </p>
    </div>
</footer>
  </body>
</html>